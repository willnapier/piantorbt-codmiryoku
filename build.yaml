# This file generates the GitHub Actions matrix.
# Piantor Pro BT with Miryoku layout and nice!view displays
# Dual-platform builds: macOS-optimized and Linux-optimized firmware
---
include:
  # macOS-optimized firmware (Gui=Cmd on S/E positions)
  - board: piantor_pro_bt_left
    snippet: studio-rpc-usb-uart
    shield: nice_view
    cmake-args: -DCONFIG_ZMK_STUDIO=y -DCONFIG_MACOS_BUILD=y
    artifact-name: macos-left
  - board: piantor_pro_bt_right
    shield: nice_view
    snippet: studio-rpc-usb-uart
    cmake-args: -DCONFIG_MACOS_BUILD=y
    artifact-name: macos-right

  # Linux-optimized firmware (Ctrl on S/E positions)
  - board: piantor_pro_bt_left
    snippet: studio-rpc-usb-uart
    shield: nice_view
    cmake-args: -DCONFIG_ZMK_STUDIO=y
    artifact-name: linux-left
  - board: piantor_pro_bt_right
    shield: nice_view
    snippet: studio-rpc-usb-uart
    artifact-name: linux-right

  # Settings reset (works for both platforms)
  - board: piantor_pro_bt_left
    shield: settings_reset
    snippet: studio-rpc-usb-uart
  - board: piantor_pro_bt_right
    shield: settings_reset
    snippet: studio-rpc-usb-uart
